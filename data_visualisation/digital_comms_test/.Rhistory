files <- myfiles[!grepl("digital_transport", myfiles)]
setwd(path)
#initialised empty dataframe
empty_df <- data.frame(timestep=numeric(),
region=character(),
interval=numeric(),
value=numeric())
import_function = lapply(files, function(x) {
DF <- read.csv(x, header = T, sep = ",")
DF_Merge <- merge(empty_df, DF, all = T)
DF_Merge$scenario <- as.factor(substring(x, 15,15))
DF_Merge$strategy <- as.factor(substring(x, 22,23))
DF_Merge$tech <- as.factor(substring(x, 17,21))
return(DF_Merge)})
all_scenarios <- do.call(rbind, import_function)
all_scenarios <- select(all_scenarios, timestep, value, scenario, strategy, tech, region)
rm(empty_df, files, myfiles)
all_scenarios$scenario <- factor(all_scenarios$scenario,
levels = c("h",
"b",
"l"),
labels = c("High Take-up",
"Baseline Take-up",
"Low Take-up"))
all_scenarios$strategy <- gsub(".*r.*", "Market Rollout", all_scenarios$strategy)
all_scenarios$strategy <- gsub(".*s.*", "Targeted Subsidy", all_scenarios$strategy)
all_scenarios$strategy <- factor(all_scenarios$strategy,
levels = c("Market Rollout",
"Targeted Subsidy"),
labels = c("Market Rollout",
"Targeted Subsidy"))
all_scenarios$tech <- gsub(".*fttdp.*", "FTTdp", all_scenarios$tech)
all_scenarios$tech <- gsub(".*fttp.*", "FTTP", all_scenarios$tech)
all_scenarios$tech <- factor(all_scenarios$tech,
levels = c("FTTdp",
"FTTP"),
labels = c("FTTdp",
"FTTP"))
all_scenarios$timestep <- as.factor(all_scenarios$timestep)
return(all_scenarios)
}
all_scenarios <- read_in_data("output_premises_with*.csv")
scenario_results <- ggplot(data=all_scenarios, aes(x=timestep, y=(value*100), group = tech, colour = tech)) + geom_line() +
labs(y = "Percentage of premises", x = "Year", colour = "Technology",
title = "Technology Rollout by Scenario and Strategy", subtitle = "Expected Return Period: 8 Years") +
scale_y_continuous(expand = c(0, 0), limits=c(0,100)) +
scale_x_discrete(expand = c(0, 0)) +
theme(axis.text.x = element_text(angle = 45, hjust = 1), legend.position = "bottom") +
facet_grid(scenario~strategy)
### EXPORT TO FOLDER
setwd(path_figures)
tiff('scenario_results.tiff', units="in", width=8, height=9, res=300)
print(scenario_results)
dev.off()
###VISUALISE MODEL OUTPUTS###
library(tidyverse)
library(maptools)
library(ggmap)
library(scales)
library(RColorBrewer)
library(ggpubr)
path_figures <- "C:\\Users\\edwar\\Desktop\\GitHub\\digital_comms\\data_visualisation\\digital_comms_test"
path_shapes <- "C:\\Users\\edwar\\Desktop\\GitHub\\digital_comms\\data\\digital_comms\\raw\\lad_uk_2016-12"
read_in_data <- function(file_pattern) {
path <- "C:\\Users\\edwar\\Desktop\\GitHub\\digital_comms\\results"
myfiles <- list.files(path = path, pattern = glob2rx(file_pattern), recursive = TRUE)
files <- myfiles[!grepl("digital_transport", myfiles)]
setwd(path)
#initialised empty dataframe
empty_df <- data.frame(timestep=numeric(),
region=character(),
interval=numeric(),
value=numeric())
import_function = lapply(files, function(x) {
DF <- read.csv(x, header = T, sep = ",")
DF_Merge <- merge(empty_df, DF, all = T)
DF_Merge$scenario <- as.factor(substring(x, 15,15))
DF_Merge$strategy <- as.factor(substring(x, 22,23))
DF_Merge$tech <- as.factor(substring(x, 17,21))
return(DF_Merge)})
all_scenarios <- do.call(rbind, import_function)
all_scenarios <- select(all_scenarios, timestep, value, scenario, strategy, tech, region)
rm(empty_df, files, myfiles)
all_scenarios$scenario <- factor(all_scenarios$scenario,
levels = c("h",
"b",
"l"),
labels = c("High Take-up",
"Baseline Take-up",
"Low Take-up"))
all_scenarios$strategy <- gsub(".*r.*", "Market Rollout", all_scenarios$strategy)
all_scenarios$strategy <- gsub(".*s.*", "Targeted Subsidy", all_scenarios$strategy)
all_scenarios$strategy <- factor(all_scenarios$strategy,
levels = c("Market Rollout",
"Targeted Subsidy"),
labels = c("Market Rollout",
"Targeted Subsidy"))
all_scenarios$tech <- gsub(".*fttdp.*", "FTTdp", all_scenarios$tech)
all_scenarios$tech <- gsub(".*fttp.*", "FTTP", all_scenarios$tech)
all_scenarios$tech <- factor(all_scenarios$tech,
levels = c("FTTdp",
"FTTP"),
labels = c("FTTdp",
"FTTP"))
all_scenarios$timestep <- as.factor(all_scenarios$timestep)
return(all_scenarios)
}
all_scenarios <- read_in_data("output_premises_with*.csv")
scenario_results <- ggplot(data=all_scenarios, aes(x=timestep, y=(value*100), group = tech, colour = tech)) + geom_line() +
labs(y = "Percentage of premises", x = "Year", colour = "Technology",
title = "Technology Rollout by Scenario and Strategy", subtitle = "Expected Return Period: 8 Years") +
scale_y_continuous(expand = c(0, 0), limits=c(0,100)) +
scale_x_discrete(expand = c(0, 0)) +
theme(axis.text.x = element_text(angle = 45, hjust = 1), legend.position = "bottom") +
facet_grid(scenario~strategy)
### EXPORT TO FOLDER
setwd(path_figures)
tiff('scenario_results.tiff', units="in", width=8, height=9, res=300)
print(scenario_results)
dev.off()
###VISUALISE MODEL OUTPUTS###
library(tidyverse)
library(maptools)
library(ggmap)
library(scales)
library(RColorBrewer)
library(ggpubr)
path_figures <- "C:\\Users\\edwar\\Desktop\\GitHub\\digital_comms\\data_visualisation\\digital_comms_test"
path_shapes <- "C:\\Users\\edwar\\Desktop\\GitHub\\digital_comms\\data\\digital_comms\\raw\\lad_uk_2016-12"
read_in_data <- function(file_pattern) {
path <- "C:\\Users\\edwar\\Desktop\\GitHub\\digital_comms\\results"
myfiles <- list.files(path = path, pattern = glob2rx(file_pattern), recursive = TRUE)
files <- myfiles[!grepl("digital_transport", myfiles)]
setwd(path)
#initialised empty dataframe
empty_df <- data.frame(timestep=numeric(),
region=character(),
interval=numeric(),
value=numeric())
import_function = lapply(files, function(x) {
DF <- read.csv(x, header = T, sep = ",")
DF_Merge <- merge(empty_df, DF, all = T)
DF_Merge$scenario <- as.factor(substring(x, 15,15))
DF_Merge$strategy <- as.factor(substring(x, 22,23))
DF_Merge$tech <- as.factor(substring(x, 17,21))
return(DF_Merge)})
all_scenarios <- do.call(rbind, import_function)
all_scenarios <- select(all_scenarios, timestep, value, scenario, strategy, tech, region)
rm(empty_df, files, myfiles)
all_scenarios$scenario <- factor(all_scenarios$scenario,
levels = c("h",
"b",
"l"),
labels = c("High Take-up",
"Baseline Take-up",
"Low Take-up"))
all_scenarios$strategy <- gsub(".*r.*", "Market Rollout", all_scenarios$strategy)
all_scenarios$strategy <- gsub(".*s.*", "Targeted Subsidy", all_scenarios$strategy)
all_scenarios$strategy <- factor(all_scenarios$strategy,
levels = c("Market Rollout",
"Targeted Subsidy"),
labels = c("Market Rollout",
"Targeted Subsidy"))
all_scenarios$tech <- gsub(".*fttdp.*", "FTTdp", all_scenarios$tech)
all_scenarios$tech <- gsub(".*fttp.*", "FTTP", all_scenarios$tech)
all_scenarios$tech <- factor(all_scenarios$tech,
levels = c("FTTdp",
"FTTP"),
labels = c("FTTdp",
"FTTP"))
all_scenarios$timestep <- as.factor(all_scenarios$timestep)
return(all_scenarios)
}
all_scenarios <- read_in_data("output_premises_with*.csv")
scenario_results <- ggplot(data=all_scenarios, aes(x=timestep, y=(value*100), group = tech, colour = tech)) + geom_line() +
labs(y = "Percentage of premises", x = "Year", colour = "Technology",
title = "Technology Rollout by Scenario and Strategy", subtitle = "Expected Return Period: 8 Years") +
scale_y_continuous(expand = c(0, 0), limits=c(0,100)) +
scale_x_discrete(expand = c(0, 0)) +
theme(axis.text.x = element_text(angle = 45, hjust = 1), legend.position = "bottom") +
facet_grid(scenario~strategy)
### EXPORT TO FOLDER
setwd(path_figures)
tiff('scenario_results.tiff', units="in", width=8, height=9, res=300)
print(scenario_results)
dev.off()
###VISUALISE MODEL OUTPUTS###
library(tidyverse)
library(maptools)
library(ggmap)
library(scales)
library(RColorBrewer)
library(ggpubr)
path_figures <- "C:\\Users\\edwar\\Desktop\\GitHub\\digital_comms\\data_visualisation\\digital_comms_test"
path_shapes <- "C:\\Users\\edwar\\Desktop\\GitHub\\digital_comms\\data\\digital_comms\\raw\\lad_uk_2016-12"
read_in_data <- function(file_pattern) {
path <- "C:\\Users\\edwar\\Desktop\\GitHub\\digital_comms\\results"
myfiles <- list.files(path = path, pattern = glob2rx(file_pattern), recursive = TRUE)
files <- myfiles[!grepl("digital_transport", myfiles)]
setwd(path)
#initialised empty dataframe
empty_df <- data.frame(timestep=numeric(),
region=character(),
interval=numeric(),
value=numeric())
import_function = lapply(files, function(x) {
DF <- read.csv(x, header = T, sep = ",")
DF_Merge <- merge(empty_df, DF, all = T)
DF_Merge$scenario <- as.factor(substring(x, 15,15))
DF_Merge$strategy <- as.factor(substring(x, 22,23))
DF_Merge$tech <- as.factor(substring(x, 17,21))
return(DF_Merge)})
all_scenarios <- do.call(rbind, import_function)
all_scenarios <- select(all_scenarios, timestep, value, scenario, strategy, tech, region)
rm(empty_df, files, myfiles)
all_scenarios$scenario <- factor(all_scenarios$scenario,
levels = c("h",
"b",
"l"),
labels = c("High Take-up",
"Baseline Take-up",
"Low Take-up"))
all_scenarios$strategy <- gsub(".*r.*", "Market Rollout", all_scenarios$strategy)
all_scenarios$strategy <- gsub(".*s.*", "Targeted Subsidy", all_scenarios$strategy)
all_scenarios$strategy <- factor(all_scenarios$strategy,
levels = c("Market Rollout",
"Targeted Subsidy"),
labels = c("Market Rollout",
"Targeted Subsidy"))
all_scenarios$tech <- gsub(".*fttdp.*", "FTTdp", all_scenarios$tech)
all_scenarios$tech <- gsub(".*fttp.*", "FTTP", all_scenarios$tech)
all_scenarios$tech <- factor(all_scenarios$tech,
levels = c("FTTdp",
"FTTP"),
labels = c("FTTdp",
"FTTP"))
all_scenarios$timestep <- as.factor(all_scenarios$timestep)
return(all_scenarios)
}
all_scenarios <- read_in_data("output_premises_with*.csv")
scenario_results <- ggplot(data=all_scenarios, aes(x=timestep, y=(value*100), group = tech, colour = tech)) + geom_line() +
labs(y = "Percentage of premises", x = "Year", colour = "Technology",
title = "Technology Rollout by Scenario and Strategy", subtitle = "Expected Return Period: 8 Years") +
scale_y_continuous(expand = c(0, 0), limits=c(0,100)) +
scale_x_discrete(expand = c(0, 0)) +
theme(axis.text.x = element_text(angle = 45, hjust = 1), legend.position = "bottom") +
facet_grid(scenario~strategy)
### EXPORT TO FOLDER
setwd(path_figures)
tiff('scenario_results.tiff', units="in", width=8, height=9, res=300)
print(scenario_results)
dev.off()
###VISUALISE MODEL OUTPUTS###
library(tidyverse)
library(maptools)
library(ggmap)
library(scales)
library(RColorBrewer)
library(ggpubr)
path_figures <- "C:\\Users\\edwar\\Desktop\\GitHub\\digital_comms\\data_visualisation\\digital_comms_test"
path_shapes <- "C:\\Users\\edwar\\Desktop\\GitHub\\digital_comms\\data\\digital_comms\\raw\\lad_uk_2016-12"
read_in_data <- function(file_pattern) {
path <- "C:\\Users\\edwar\\Desktop\\GitHub\\digital_comms\\results"
myfiles <- list.files(path = path, pattern = glob2rx(file_pattern), recursive = TRUE)
files <- myfiles[!grepl("digital_transport", myfiles)]
setwd(path)
#initialised empty dataframe
empty_df <- data.frame(timestep=numeric(),
region=character(),
interval=numeric(),
value=numeric())
import_function = lapply(files, function(x) {
DF <- read.csv(x, header = T, sep = ",")
DF_Merge <- merge(empty_df, DF, all = T)
DF_Merge$scenario <- as.factor(substring(x, 15,15))
DF_Merge$strategy <- as.factor(substring(x, 22,23))
DF_Merge$tech <- as.factor(substring(x, 17,21))
return(DF_Merge)})
all_scenarios <- do.call(rbind, import_function)
all_scenarios <- select(all_scenarios, timestep, value, scenario, strategy, tech, region)
rm(empty_df, files, myfiles)
all_scenarios$scenario <- factor(all_scenarios$scenario,
levels = c("h",
"b",
"l"),
labels = c("High Take-up",
"Baseline Take-up",
"Low Take-up"))
all_scenarios$strategy <- gsub(".*r.*", "Market Rollout", all_scenarios$strategy)
all_scenarios$strategy <- gsub(".*s.*", "Targeted Subsidy", all_scenarios$strategy)
all_scenarios$strategy <- factor(all_scenarios$strategy,
levels = c("Market Rollout",
"Targeted Subsidy"),
labels = c("Market Rollout",
"Targeted Subsidy"))
all_scenarios$tech <- gsub(".*fttdp.*", "FTTdp", all_scenarios$tech)
all_scenarios$tech <- gsub(".*fttp.*", "FTTP", all_scenarios$tech)
all_scenarios$tech <- factor(all_scenarios$tech,
levels = c("FTTdp",
"FTTP"),
labels = c("FTTdp",
"FTTP"))
all_scenarios$timestep <- as.factor(all_scenarios$timestep)
return(all_scenarios)
}
all_scenarios <- read_in_data("output_premises_with*.csv")
scenario_results <- ggplot(data=all_scenarios, aes(x=timestep, y=(value*100), group = tech, colour = tech)) + geom_line() +
labs(y = "Percentage of premises", x = "Year", colour = "Technology",
title = "Technology Rollout by Scenario and Strategy", subtitle = "Expected Return Period: 8 Years") +
scale_y_continuous(expand = c(0, 0), limits=c(0,100)) +
scale_x_discrete(expand = c(0, 0)) +
theme(axis.text.x = element_text(angle = 45, hjust = 1), legend.position = "bottom") +
facet_grid(scenario~strategy)
### EXPORT TO FOLDER
setwd(path_figures)
tiff('scenario_results.tiff', units="in", width=8, height=9, res=300)
print(scenario_results)
dev.off()
###VISUALISE MODEL OUTPUTS###
library(tidyverse)
library(maptools)
library(ggmap)
library(scales)
library(RColorBrewer)
library(ggpubr)
path_figures <- "C:\\Users\\edwar\\Desktop\\GitHub\\digital_comms\\data_visualisation\\digital_comms_test"
path_shapes <- "C:\\Users\\edwar\\Desktop\\GitHub\\digital_comms\\data\\digital_comms\\raw\\lad_uk_2016-12"
read_in_data <- function(file_pattern) {
path <- "C:\\Users\\edwar\\Desktop\\GitHub\\digital_comms\\results"
myfiles <- list.files(path = path, pattern = glob2rx(file_pattern), recursive = TRUE)
files <- myfiles[!grepl("digital_transport", myfiles)]
setwd(path)
#initialised empty dataframe
empty_df <- data.frame(timestep=numeric(),
region=character(),
interval=numeric(),
value=numeric())
import_function = lapply(files, function(x) {
DF <- read.csv(x, header = T, sep = ",")
DF_Merge <- merge(empty_df, DF, all = T)
DF_Merge$scenario <- as.factor(substring(x, 15,15))
DF_Merge$strategy <- as.factor(substring(x, 22,23))
DF_Merge$tech <- as.factor(substring(x, 17,21))
return(DF_Merge)})
all_scenarios <- do.call(rbind, import_function)
all_scenarios <- select(all_scenarios, timestep, value, scenario, strategy, tech, region)
rm(empty_df, files, myfiles)
all_scenarios$scenario <- factor(all_scenarios$scenario,
levels = c("h",
"b",
"l"),
labels = c("High Take-up",
"Baseline Take-up",
"Low Take-up"))
all_scenarios$strategy <- gsub(".*r.*", "Market Rollout", all_scenarios$strategy)
all_scenarios$strategy <- gsub(".*s.*", "Targeted Subsidy", all_scenarios$strategy)
all_scenarios$strategy <- factor(all_scenarios$strategy,
levels = c("Market Rollout",
"Targeted Subsidy"),
labels = c("Market Rollout",
"Targeted Subsidy"))
all_scenarios$tech <- gsub(".*fttdp.*", "FTTdp", all_scenarios$tech)
all_scenarios$tech <- gsub(".*fttp.*", "FTTP", all_scenarios$tech)
all_scenarios$tech <- factor(all_scenarios$tech,
levels = c("FTTdp",
"FTTP"),
labels = c("FTTdp",
"FTTP"))
all_scenarios$timestep <- as.factor(all_scenarios$timestep)
return(all_scenarios)
}
all_scenarios <- read_in_data("output_premises_with*.csv")
scenario_results <- ggplot(data=all_scenarios, aes(x=timestep, y=(value*100), group = tech, colour = tech)) + geom_line() +
labs(y = "Percentage of premises", x = "Year", colour = "Technology",
title = "Technology Rollout by Scenario and Strategy", subtitle = "Expected Return Period: 4 Years") +
scale_y_continuous(expand = c(0, 0), limits=c(0,100)) +
scale_x_discrete(expand = c(0, 0)) +
theme(axis.text.x = element_text(angle = 45, hjust = 1), legend.position = "bottom") +
facet_grid(scenario~strategy)
### EXPORT TO FOLDER
setwd(path_figures)
tiff('scenario_results.tiff', units="in", width=8, height=9, res=300)
print(scenario_results)
dev.off()
scenario_results <- ggplot(data=all_scenarios, aes(x=timestep, y=(value*100), group = tech, colour = tech)) + geom_line() +
labs(y = "Percentage of premises", x = "Year", colour = "Technology",
title = "Technology Rollout by Scenario and Strategy", subtitle = "Expected Return Period: 4 Years") +
scale_y_continuous(expand = c(0, 0), limits=c(0,75)) +
scale_x_discrete(expand = c(0, 0)) +
theme(axis.text.x = element_text(angle = 45, hjust = 1), legend.position = "bottom") +
facet_grid(scenario~strategy)
### EXPORT TO FOLDER
setwd(path_figures)
tiff('scenario_results.tiff', units="in", width=8, height=9, res=300)
print(scenario_results)
dev.off()
scenario_results <- ggplot(data=all_scenarios, aes(x=timestep, y=(value*100), group = tech, colour = tech)) + geom_line() +
labs(y = "Percentage of premises", x = "Year", colour = "Technology",
title = "Technology Rollout by Scenario and Strategy", subtitle = "Expected Return Period: 4 Years") +
scale_y_continuous(expand = c(0, 0), limits=c(0,75)) +
scale_x_discrete(expand = c(0, 0)) +
theme(axis.text.x = element_text(angle = 45, hjust = 1), legend.position = "bottom") +
facet_grid(scenario~strategy)
### EXPORT TO FOLDER
setwd(path_figures)
tiff('scenario_results.tiff', units="in", width=8, height=9, res=300)
print(scenario_results)
dev.off()
scenario_results <- ggplot(data=all_scenarios, aes(x=timestep, y=(value*100), group = tech, colour = tech)) + geom_line() +
labs(y = "Percentage of premises", x = "Year", colour = "Technology",
title = "Technology Rollout by Scenario and Strategy", subtitle = "Expected Return Period: 4 Years") +
scale_y_continuous(expand = c(0, 0), limits=c(0,80)) +
scale_x_discrete(expand = c(0, 0)) +
theme(axis.text.x = element_text(angle = 45, hjust = 1), legend.position = "bottom") +
facet_grid(scenario~strategy)
### EXPORT TO FOLDER
setwd(path_figures)
tiff('scenario_results.tiff', units="in", width=8, height=9, res=300)
print(scenario_results)
dev.off()
scenario_results <- ggplot(data=all_scenarios, aes(x=timestep, y=(value*100), group = tech, colour = tech)) + geom_line() +
labs(y = "Percentage of premises", x = "Year", colour = "Technology",
title = "Technology Rollout by Scenario and Strategy", subtitle = "Expected Return Period: 4 Years") +
scale_y_continuous(expand = c(0, 0), limits=c(0,78)) +
scale_x_discrete(expand = c(0, 0)) +
theme(axis.text.x = element_text(angle = 45, hjust = 1), legend.position = "bottom") +
facet_grid(scenario~strategy)
### EXPORT TO FOLDER
setwd(path_figures)
tiff('scenario_results.tiff', units="in", width=8, height=9, res=300)
print(scenario_results)
dev.off()
scenario_results <- ggplot(data=all_scenarios, aes(x=timestep, y=(value*100), group = tech, colour = tech)) + geom_line() +
labs(y = "Percentage of premises", x = "Year", colour = "Technology",
title = "Technology Rollout by Scenario and Strategy", subtitle = "Expected Return Period: 4 Years") +
scale_y_continuous(expand = c(0, 0), limits=c(0,75)) +
scale_x_discrete(expand = c(0, 0)) +
theme(axis.text.x = element_text(angle = 45, hjust = 1), legend.position = "bottom") +
facet_grid(scenario~strategy)
### EXPORT TO FOLDER
setwd(path_figures)
tiff('scenario_results.tiff', units="in", width=8, height=9, res=300)
print(scenario_results)
dev.off()
source('C:/Users/edwar/Desktop/GitHub/digital_comms/data_visualisation/visualise_results_v2.R', echo=TRUE)
source('C:/Users/edwar/Desktop/GitHub/digital_comms/data_visualisation/visualise_results_v2.R', echo=TRUE)
###VISUALISE MODEL OUTPUTS###
library(tidyverse)
library(maptools)
library(ggmap)
library(scales)
library(RColorBrewer)
library(ggpubr)
path_figures <- "C:\\Users\\edwar\\Desktop\\GitHub\\digital_comms\\data_visualisation\\digital_comms_test"
path_shapes <- "C:\\Users\\edwar\\Desktop\\GitHub\\digital_comms\\data\\digital_comms\\raw\\lad_uk_2016-12"
read_in_data <- function(file_pattern) {
path <- "C:\\Users\\edwar\\Desktop\\GitHub\\digital_comms\\results"
myfiles <- list.files(path = path, pattern = glob2rx(file_pattern), recursive = TRUE)
files <- myfiles[!grepl("digital_transport", myfiles)]
setwd(path)
#initialised empty dataframe
empty_df <- data.frame(timestep=numeric(),
region=character(),
interval=numeric(),
value=numeric())
import_function = lapply(files, function(x) {
DF <- read.csv(x, header = T, sep = ",")
DF_Merge <- merge(empty_df, DF, all = T)
DF_Merge$scenario <- as.factor(substring(x, 15,15))
DF_Merge$strategy <- as.factor(substring(x, 22,23))
DF_Merge$tech <- as.factor(substring(x, 17,21))
return(DF_Merge)})
all_scenarios <- do.call(rbind, import_function)
all_scenarios <- select(all_scenarios, timestep, value, scenario, strategy, tech, region)
rm(empty_df, files, myfiles)
all_scenarios$scenario <- factor(all_scenarios$scenario,
levels = c("h",
"b",
"l"),
labels = c("High Take-up",
"Baseline Take-up",
"Low Take-up"))
all_scenarios$strategy <- gsub(".*r.*", "Market Rollout", all_scenarios$strategy)
all_scenarios$strategy <- gsub(".*s.*", "Targeted Subsidy", all_scenarios$strategy)
all_scenarios$strategy <- factor(all_scenarios$strategy,
levels = c("Market Rollout",
"Targeted Subsidy"),
labels = c("Market Rollout",
"Targeted Subsidy"))
all_scenarios$tech <- gsub(".*fttdp.*", "FTTdp", all_scenarios$tech)
all_scenarios$tech <- gsub(".*fttp.*", "FTTP", all_scenarios$tech)
all_scenarios$tech <- factor(all_scenarios$tech,
levels = c("FTTdp",
"FTTP"),
labels = c("FTTdp",
"FTTP"))
all_scenarios$timestep <- as.factor(all_scenarios$timestep)
return(all_scenarios)
}
all_scenarios <- read_in_data("output_premises_with*.csv")
scenario_results <- ggplot(data=all_scenarios, aes(x=timestep, y=(value*100), group = tech, colour = tech)) + geom_line() +
labs(y = "Premises Connected (%)", x = "Year", colour = "Technology",
title = "Technology Rollout by Scenario and Strategy", subtitle = "Expected Return Period: 4 Years") +
scale_y_continuous(expand = c(0, 0), limits=c(0,75)) +
scale_x_discrete(expand = c(0, 0)) +
theme(axis.text.x = element_text(angle = 45, hjust = 1), legend.position = "bottom") +
facet_grid(scenario~strategy)
### EXPORT TO FOLDER
setwd(path_figures)
tiff('scenario_results.tiff', units="in", width=8, height=9, res=300)
print(scenario_results)
dev.off()
